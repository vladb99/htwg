/*! For license information please see gallery.lazyloader.ghp.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"7W2i":function(t,e,i){var n=i("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},"8jkb":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("lVWJ"),o=i("2mXy"),r=i("/MKj"),a=n(i("XgG4")),l=n(i("Mi4I"));e.default=function(t){var e=document.getElementById("gh_gallery"),i=document.querySelector(".galroot");(0,o.render)((0,s.jsx)(r.Provider,{store:a.default,children:(0,s.jsx)(l.default,{galrootStatic:i})}),e)}},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},ESZF:function(t,e,i){"use strict";var n=i("TqRt"),s=n(i("cDf5")),o=i("2mXy"),r=n(i("17x9")),a=n(i("MgzW"));Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=f(r.default),u=!1;try{var p=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassive",null,p),window.removeEventListener("testPassive",null,p)}catch(t){}var h=f((function(t,e){var i=function(){},n=function(t){setTimeout(t||i,0)},s=!!window.addEventListener,o="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,r=function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in e)if(void 0!==t.style[e[i]])return!0;return!1}(document.createElement("swipe"));if(t){var a,l,c,p,h,d=t.children[0];h=d.querySelectorAll(".gal_img"),e=e||{};for(var f,m,g=parseInt(e.startSlide,10)||0,b=e.speed||300,y=e.continuous=void 0===e.continuous||e.continuous,v="x",T=e.auto||0,w={},x=new Date,O={},_=!0,E=!1,k={img:[]},S=0;S<h.length;S++)k.img[S]={diffX:0,diffY:0,x:0,y:0};var I={handleEvent:function(t){switch(t.type){case"touchstart":E&&t.cancelable&&t.preventDefault(),500>=new Date-x&&t.cancelable&&t.preventDefault(),this.start(t),v="a";break;case"touchmove":this.move(t);break;case"touchend":n(this.end(t)),v="b";break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":n(this.transitionEnd(t));break;case"resize":n(M)}e.stopPropagation&&t.stopPropagation()},start:function(t){e.callbackStart&&e.callbackStart(g,a[g],t);var i,n=t.touches[0];2===t.touches.length&&(i=t.touches[1]),w={x:n.pageX,y:n.pageY,time:+new Date},i&&(w.x=n.clientX,w.y=n.clientY,w.x_second=i.clientX,w.y_second=i.clientY),m=void 0,O={},d.addEventListener("touchmove",this,!1),d.addEventListener("touchend",this,!1)},move:function(t){var i,n,s,o=t.touches[0],r=h[g];if(t.touches.length>1||t.scale&&1!==t.scale){if(!e.isFullscreen())return;if(i=t.touches[1],n=(2^Math.abs(w.x_second-w.x))+(2^Math.abs(w.y_second-w.y)),s=(2^Math.abs(i.clientX-o.clientX))+(2^Math.abs(i.clientY-o.clientY)),n=Math.sqrt(n),s=Math.sqrt(s),_&&!E&&s-n>.75){var u=(Math.max(r.naturalHeight,r.parentNode.clientHeight)-Math.min(r.naturalHeight,r.parentNode.clientHeight))/Math.min(r.naturalHeight,r.parentNode.clientHeight)+1;r.setAttribute("data-origMaxH",r.style.maxHeight),r.setAttribute("data-origMinH",r.style.minHeight),r.setAttribute("data-origMaxW",r.style.maxWidth),r.style.transition="min-height 200ms 2ms, max-width 200ms 2ms",r.style.maxHeight="",r.style.minHeight=u*r.naturalHeight+"px",r.style.maxWidth="",r.style.cssText+="max-width: "+u*r.naturalWidth+"px !important",_=!1,E=!0,e.zoomCallback("on")}else _&&E&&"1%"!==r.style.minHeight&&-.75>s-n&&w.x_second&&(r.style.maxHeight=r.getAttribute("data-origMaxH"),r.style.minHeight=r.getAttribute("data-origMinH"),r.style.maxWidth=r.getAttribute("data-origMaxW"),r.style.minHeight="1%",r.style.transform="",r.removeAttribute("data-origMaxH"),r.removeAttribute("data-origMinH"),r.removeAttribute("data-origMaxW"),_=!1,E=!1,e.zoomCallback("off"))}else{if(e.disableScroll)return;if(E){var p=r.offsetWidth/r.clientWidth;1>p&&(p=1),k.img[g].diffX=(o.clientX-w.x)*p,k.img[g].diffY=(o.clientY-w.y)*p,r.style.transform="scale("+p+") translate3d("+(k.img[g].x+k.img[g].diffX)+"px, "+(k.img[g].y+k.img[g].diffY)+"px, 0px)"}else O={x:o.pageX-w.x,y:o.pageY-w.y},void 0===m&&(m=!(!m&&Math.abs(O.x)>=Math.abs(O.y))),m||("touchmove"==t.type&&t.cancelable&&t.preventDefault(),N(),y?(C(j(g-1),O.x+l[j(g-1)],0),C(g,O.x+l[g],0),C(j(g+1),O.x+l[j(g+1)],0)):(O.x=O.x/(!g&&O.x>0||g==a.length-1&&0>O.x?Math.abs(O.x)/c+1:1),C(g-1,O.x+l[g-1],0),C(g,O.x+l[g],0),C(g+1,O.x+l[g+1],0)),e.swiping&&e.swiping(-O.x/c))}},end:function(t){var i=!1;window.setTimeout((function(){_=!0}),200);for(var n=0;n<k.img.length;n++)(k.img[n].diffX||k.img[n].diffY)&&(i=!0,k.img[n].x=k.img[n].x+k.img[n].diffX,k.img[n].y=k.img[n].y+k.img[n].diffY,k.img[n].diffX=0,k.img[n].diffY=0);var s=+new Date-w.time,o=250>Number(s)&&Math.abs(O.x)>20||Math.abs(O.x)>c/2,r=!g&&O.x>0||g==a.length-1&&0>O.x;y&&(r=!1);var u=0>O.x;m||(o&&!r?(u?(y?(P(j(g-1),-c,0),P(j(g+2),c,0)):P(g-1,-c,0),P(g,l[g]-c,b),P(j(g+1),l[j(g+1)]-c,b),g=j(g+1)):(y?(P(j(g+1),c,0),P(j(g-2),-c,0)):P(g+1,c,0),P(g,l[g]+c,b),P(j(g-1),l[j(g-1)]+c,b),g=j(g-1)),e.callback&&e.callback(g,a[g],t,u,!(!m&&!i&&s&&!O.x&&!O.y&&2>t.touches.length&&!w.x_second))):y?(P(j(g-1),-c,b),P(g,0,b),P(j(g+1),c,b)):(P(g-1,-c,b),P(g,0,b),P(g+1,c,b))),d.removeEventListener("touchmove",I,!1),d.removeEventListener("touchend",I,!1),d.removeEventListener("touchforcechange",(function(){}),!1),m||i||!s||O.x||O.y||t.touches.length>=2||w.x_second||(x=new Date,e.callbackTap())},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==g&&(T&&H(),e.transitionEnd&&e.transitionEnd.call(t,g,a[g]))}};return M(),T&&H(),s?(o&&(d.addEventListener("touchstart",I,!!u&&{passive:!0}),d.addEventListener("touchforcechange",(function(){}),!1)),r&&(d.addEventListener("webkitTransitionEnd",I,!1),d.addEventListener("msTransitionEnd",I,!1),d.addEventListener("oTransitionEnd",I,!1),d.addEventListener("otransitionend",I,!1),d.addEventListener("transitionend",I,!1)),window.addEventListener("resize",I,!1)):window.onresize=function(){M()},{setup:function(){M()},slide:function(t,e,i){N(),A(t,e,i)},prev:function(t){var e;N(),e=t,(y||g)&&A(g-1,void 0,e)},next:function(t){N(),L(t)},stop:function(){N()},getPos:function(){return g},getImgObjs:function(){return h},isTouching:function(){return v},getNumSlides:function(){return p},resetZoom:function(){for(var t=0;t<h.length;t++){var e=h[t];(e.getAttribute("data-origMaxW")||e.getAttribute("data-origMaxH"))&&(e.style.maxHeight=e.getAttribute("data-origMaxH"),e.style.minHeight=e.getAttribute("data-origMinH"),e.style.maxWidth=e.getAttribute("data-origMaxW"),e.style.minHeight="1%",e.style.transform="",e.removeAttribute("data-origMaxH"),e.removeAttribute("data-origMinH"),e.removeAttribute("data-origMaxW"))}E=!1,_=!0;for(t=0;t<h.length;t++)k.img[t]={diffX:0,diffY:0,x:0,y:0}},kill:function(){N(),d.style.width="",d.style.left="";for(var t=a.length;t--;){var e=a[t];e.style.width="",e.style.left="",r&&C(t,0,0)}s?(d.removeEventListener("touchstart",I,!1),d.removeEventListener("webkitTransitionEnd",I,!1),d.removeEventListener("msTransitionEnd",I,!1),d.removeEventListener("oTransitionEnd",I,!1),d.removeEventListener("otransitionend",I,!1),d.removeEventListener("transitionend",I,!1),window.removeEventListener("resize",I,!1)):window.onresize=null}}}function M(){a=d.children,p=a.length,y=a.length>=2&&e.continuous,l=new Array(a.length),c=Math.round(t.getBoundingClientRect().width||t.offsetWidth);for(var i=0;i<h.length;i++){var n=h[i];n.getAttribute("data-origMaxW")&&(n.style.maxHeight=n.getAttribute("data-origMaxH"),n.style.minHeight=n.getAttribute("data-origMinH"),n.style.maxWidth=n.getAttribute("data-origMaxW"),n.style.minHeight="1%",n.style.transform="",n.removeAttribute("data-origMaxH"),n.removeAttribute("data-origMinH"),n.removeAttribute("data-origMaxW"))}d.style.width=a.length*c+"px",d.style.height="100%";for(var s=a.length;s--;){var o=a[s];o.style.width=c+"px",o.setAttribute("data-index",s),r&&(o.style.left=s*-c+"px",P(s,g>s?-c:s>g?c:0,0))}y&&r&&(P(j(g-1),-c,0),P(j(g+1),c,0)),r||(d.style.left=g*-c+"px"),t.style.visibility="visible"}function L(t){(y||g<a.length-1)&&A(g+1,void 0,t)}function j(t){return(a.length+t%a.length)%a.length}function A(t,i,s){if(g!=t){if(r){var o=Math.abs(g-t)/(g-t);if(y){var u=o;(o=-l[j(t)]/c)!==u&&(t=-o*a.length+t)}for(var p=Math.abs(g-t)-1;p--;)P(j((t>g?t:g)-p-1),c*o,0);t=j(t),P(g,c*o,i||b),P(t,0,i||b),y&&P(j(t-o),-c*o,0)}else t=j(t),function(t,i,n,s){if(!n)return void(d.style.left=i+"px");var o=+new Date,r=setInterval((function(){var l=+new Date-o;if(l>n)return d.style.left=i+"px",T&&H(),e.transitionEnd&&e.transitionEnd.call(s,g,a[g]),void clearInterval(r);d.style.left=(i-t)*(Math.floor(l/n*100)/100)+t+"px"}),4)}(g*-c,t*-c,i||b,s);g=t,n(e.callback&&e.callback(g,a[g],s,-1===o))}}function P(t,e,i){C(t,0>e?e-1:e>0?e+1:e,i),l[t]=e}function C(t,e,i){var n=a[t],s=n&&n.style;s&&(s.webkitTransitionDuration=s.MozTransitionDuration=s.msTransitionDuration=s.OTransitionDuration=s.transitionDuration=i+"ms",s.webkitTransform="translate("+e+"px,0)translateZ(0)",s.msTransform=s.MozTransform=s.OTransform="translateX("+e+"px)")}function H(){clearTimeout(f),f=setTimeout(L,T)}function N(){T=0,clearTimeout(f)}})),d=f(a.default);function f(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("got func, exp class")}function g(t,e){if(!t)throw new ReferenceError("super() missing");return!e||"object"!==(0,s.default)(e)&&"function"!=typeof e?t:e}var b=function(t){function e(){return m(this,e),g(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("super cant be "+(0,s.default)(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),l(e,[{key:"componentDidMount",value:function(){var t=this.props.swipeOptions;this.swipe=(0,h.default)(this.container,t)}},{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.childCount,n=e.swipeOptions;t.childCount!==i&&(this.swipe.kill(),this.swipe=(0,h.default)(this.container,n))}},{key:"componentWillUnmount",value:function(){this.swipe.kill(),this.swipe=void 0}},{key:"next",value:function(t){this.swipe.next(t)}},{key:"prev",value:function(t){this.swipe.prev(t)}},{key:"slide",value:function(){var t;(t=this.swipe).slide.apply(t,arguments)}},{key:"getPos",value:function(){return this.swipe.getPos()}},{key:"getImgObjs",value:function(){return this.swipe.getImgObjs()}},{key:"getNumSlides",value:function(){return this.swipe.getNumSlides()}},{key:"resetZoom",value:function(){return this.swipe.resetZoom()}},{key:"reset",value:function(){return this.swipe.setup()}},{key:"render",value:function(){var t=this,e=this.props,i=e.id,n=e.className,s=e.style,r=e.children;return(0,o.h)("div",{ref:function(e){return t.container=e},id:i,className:"react-swipe-container "+n,style:s.container},(0,o.h)("div",{style:s.wrapper},r.map((function(t){if(!t)return null;var e=t.props&&t.props.style?(0,d.default)({},s.child,t.props.style):s.child;return(0,o.cloneElement)(t,{style:e})}))))}}]),e}(o.Component);b.propTypes={swipeOptions:c.default.shape({startSlide:c.default.number,speed:c.default.number,auto:c.default.number,continuous:c.default.bool,disableScroll:c.default.bool,stopPropagation:c.default.bool,swiping:c.default.func,callback:c.default.func,transitionEnd:c.default.func}),style:c.default.shape({container:c.default.object,wrapper:c.default.object,child:c.default.object}),id:c.default.string,className:c.default.string,childCount:c.default.number},b.defaultProps={swipeOptions:{},style:{container:{overflow:"hidden",visibility:"hidden",boxSizing:"border-box",position:"relative"},wrapper:{overflow:"hidden",position:"relative"},child:{float:"left",width:"100%",position:"relative",transitionProperty:"transform"}},className:"",childCount:0},e.default=b,t.exports=e.default},EbDI:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},Ijbi:function(t,e,i){var n=i("WkPL");t.exports=function(t){if(Array.isArray(t))return n(t)}},KXlo:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.initVars=e.getMedia=e.getVideos=e.getImages=void 0;var s=n(i("RIqP")),o=function(){if(window.wannabeAPI)return window.wannabeAPI.galleryImages||[]};e.getImages=o;var r=function(){var t=window.wannabeAPI.galleryVideos;return t&&t.every((function(t){return e=t.u,!(null===(i=e.match(/^(https?:\/\/)?((www\.)?(youtube(-nocookie)?|youtube.googleapis)\.com.*(v\/|v=|vi=|vi\/|e\/|embed\/|user\/.*\/u\/\d+\/)|youtu\.be\/)([_0-9a-z-]+)/i))||8>i.length||!i[7]);var e,i}))?t:[]};e.getVideos=r;e.getMedia=function(){var t=o(),e=r(),i=[];return t.length>0&&i.push.apply(i,(0,s.default)(t)),e.length>0&&(3>i.length?i.push.apply(i,(0,s.default)(e)):i.splice.apply(i,[2,0].concat((0,s.default)(e)))),i};e.initVars=function(){if(window.wannabeAPI)return window.wannabeAPI.initVars}},MgzW:function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;10>i;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,l=r(t),c=1;arguments.length>c;c++){for(var u in i=Object(arguments[c]))s.call(i,u)&&(l[u]=i[u]);if(n){a=n(i);for(var p=0;p<a.length;p++)o.call(i,a[p])&&(l[a[p]]=i[a[p]])}}return l}},Mi4I:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("lVWJ"),o=i("MOxe"),r=i("/MKj"),a=n(i("fb1M")),l=i("lVme"),c=(0,r.connect)((function(t,e){return{config:t.config,images:t.images,videos:t.videos,media:t.media,lazyloadedImages:t.lazyloadedImages,opstates:t.opstates,galrootStatic:e.galrootStatic}}),(function(t){return{init:function(){return t((0,l.thunkInit)())},dispatch:t}}))((function(t){return(0,o.useEffect)((function(){t.init()}),[]),t.media&&t.media.length&&t.media.length>0?(0,s.jsx)(a.default,{config:t.config,opstates:t.opstates,mediaList:t.media,lazyloadedImages:t.lazyloadedImages,dispatch:t.dispatch}):(0,s.jsx)("div",{class:t.galrootStatic.attributes.class.value,style:t.galrootStatic.attributes.style.value,dangerouslySetInnerHTML:{__html:t.galrootStatic.innerHTML}})}));e.default=c},Nsbk:function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(e)}t.exports=i},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},RIqP:function(t,e,i){var n=i("Ijbi"),s=i("EbDI"),o=i("ZhPi"),r=i("Bnag");t.exports=function(t){return n(t)||s(t)||o(t)||r()}},RXDC:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,o=i("lVWJ"),r=n(i("lSNA")),a=n(i("lwsE")),l=n(i("W8MJ")),c=n(i("PJYZ")),u=n(i("7W2i")),p=n(i("a1gu")),h=n(i("Nsbk")),d=i("2mXy"),f=i("/MKj"),m=i("o5cL");function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t){for(var e=1;arguments.length>e;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){(0,r.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,h.default)(t);if(e){var s=(0,h.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,p.default)(this,i)}}window.ghpakLazyload("event_tracker").then((function(t){return s=t}));var v=function(t){(0,u.default)(i,t);var e=y(i);function i(t){var n;return(0,a.default)(this,i),(n=e.call(this,t)).state={mounted:!1,isLoaded:!1,isEmbedded:!1,player:!1,playerIsReady:!1,playerId:"player"+n.props.index},n.updateProportions=n.updateProportions.bind((0,c.default)(n)),n.clickHeadPrice=n.clickHeadPrice.bind((0,c.default)(n)),n.handleOnClickForEmbedding=n.handleOnClickForEmbedding.bind((0,c.default)(n)),n.handleImageLoaded=n.handleImageLoaded.bind((0,c.default)(n)),n}return(0,l.default)(i,[{key:"componentDidMount",value:function(){var t=this.props.socketHeight||0;this.imgStyle={minHeight:"1%",maxHeight:"90%",maxWidth:this.slideCon.clientWidth-1+"px"},(this.captionElement&&this.captionElement.clientHeight&&this.captionElement.clientHeight>0||this.titleElement&&this.titleElement.clientHeight&&this.titleElement.clientHeight>0)&&(t+=this.captionElement.clientHeight),(this.titleElement&&this.titleElement.clientHeight&&this.titleElement.clientHeight>0||this.titleElement&&this.titleElement.clientHeight&&this.titleElement.clientHeight>0)&&(t+=this.titleElement.clientHeight),this.imgStyle.maxHeight=t>0?"calc(90% - "+t+"px)":"90%",this.setState({mounted:!0})}},{key:"componentWillUpdate",value:function(t){var e=this;!this.props.socketHeight&&t.socketHeight&&window.setTimeout((function(){e.galImg.style.visibility="visible",e.captionElement&&(e.captionElement.style.visibility="visible")}),25),this.props.socketHeight&&!t.socketHeight&&window.setTimeout((function(){e.galImg.style.visibility=null,e.captionElement&&(e.captionElement.style.visibility=null)}),25)}},{key:"componentDidUpdate",value:function(){var t=this;this.props.opstates.mayUpdateProportions&&window.setTimeout((function(){t.updateProportions(),t.props.dispatch({type:m.MAY_UPDATE_PROPORTIONS,payload:!1})}),0),this.props.opstates.fullscreen&&"visible"!==this.galImg.style.visibility&&window.setTimeout((function(){t.galImg.style.visibility="visible"}),100),this.state.playerIsReady&&this.state.isEmbedded&&(!this.props.opstates.fullscreen||void 0!==this.props.opstates.imgnum&&this.props.opstates.imgnum!==this.props.index+1)&&this.state.player.pauseVideo()}},{key:"updateProportions",value:function(){var t=this.props.socketHeight;this.captionElement&&(1==this.props.config.showImageTitleAsCaption||2==this.props.config.showImageTitleAsCaption&&this.props.opstates.fullscreen)&&("block"!==this.captionElement.style.display&&(this.captionElement.style.display="block"),t+=this.captionElement.clientHeight),this.titleElement&&this.props.opstates.fullscreen&&(t+=this.titleElement.clientHeight),this.imgStyle=b(b({},this.imgStyle),{},{maxHeight:"calc(90% - "+t+"px)",maxWidth:this.props.opstates.fullscreen?this.galImg.style.maxWidth:this.slideCon.clientWidth-1+"px"}),this.state.playerIsReady&&this.state.isEmbedded&&this.props.opstates.fullscreen&&!this.props.isThumb&&this.playerCalcSize()}},{key:"clickHeadPrice",value:function(){[1,3].indexOf(this.props.config.trackEvents)>=0&&s.pushTrackingEvent({action:"Click price",cat:"Image gallery",label:""+this.props.config.fullscreenTitleTexts[this.props.index].title},s.GOOGLE_TAG_MANAGER)}},{key:"getVideoId",value:function(t){return t.match(/^(https?:\/\/)?((www\.)?(youtube(-nocookie)?|youtube.googleapis)\.com.*(v\/|v=|vi=|vi\/|e\/|embed\/|user\/.*\/u\/\d+\/)|youtu\.be\/)([_0-9a-z-]+)/i)[7]}},{key:"getVideoThumbnail",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getVideoId(t),n="https://img.youtube.com/vi/"+i;return e?n+"/mqdefault.jpg":n+"/hqdefault.jpg"}},{key:"playerCalcSize",value:function(){var t=this.props.config.mobile?30:90,e=this.videoDummyElement.clientHeight-t,i=Math.round(e/9*16);this.playerSize={maxWidth:i,width:"100%"}}},{key:"handleOnClickForEmbedding",value:function(){if(!this.props.isThumb&&!this.state.isEmbedded)if(this.setState({isEmbedded:!0}),s.pushTrackingEvent({cat:"Image gallery",action:"Click",label:"Play Video"},s.GOOGLE_TAG_MANAGER),this.props.promiseYouTubeReady)this.loadYouTubePlayer(this.props.promiseYouTubeReady);else{var t=this.props.loadYouTubeIframeApi();this.loadYouTubePlayer(t)}!this.props.isThumb&&this.state.isEmbedded&&this.state.playerIsReady&&this.state.player.playVideo()}},{key:"loadYouTubePlayer",value:function(t){var e=this;t.then((function(t){var i=new t.Player(e.state.playerId,{videoId:e.getVideoId(e.props.video.u),host:"https://www.youtube-nocookie.com",playerVars:{modestbranding:1,rel:0,autoplay:1},events:{onReady:function(){e.setState({playerIsReady:!0}),e.playerCalcSize()}}});e.setState({player:i})}))}},{key:"handleImageLoaded",value:function(){this.setState({isLoaded:!0})}},{key:"render",value:function(){var t,e=this;return!this.props.opstates.zoomed&&this.props.config.fullscreenTitleTexts&&this.props.config.fullscreenTitleTexts[this.props.index]&&(t=(0,o.jsxs)("p",{class:"img_headtext",ref:function(t){return e.titleElement=t},children:[(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:this.props.config.fullscreenTitleTexts[this.props.index].title}})," ",(0,o.jsxs)("a",{id:"img_headtext_link",onClick:this.clickHeadPrice,href:"/"+this.props.config.fullscreenTitleTexts[this.props.index].href,rel:"noopener",target:"_blank",children:["ab €"," ",this.props.config.fullscreenTitleTexts[this.props.index].price]})]})),(0,o.jsxs)("div",{className:"slide_container".concat(this.props.imgClass?" "+this.props.imgClass:""),onClick:(!this.props.config.mobile||this.props.isThumb)&&this.props.onTheClick,ref:function(t){return e.slideCon=t},children:[t,(0,o.jsx)("div",{class:"img_spacer"}),(0,o.jsxs)("div",{className:"slide_videodummy".concat(!this.props.isThumb&&this.state.isEmbedded&&this.props.opstates.fullscreen?" slide_videodummy--embedded":""),onClick:this.handleOnClickForEmbedding,ref:function(t){return e.videoDummyElement=t},style:this.playerSize||{},children:[(0,o.jsx)("svg",{"clip-rule":"evenodd","fill-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"1.41421",viewBox:"0 0 176 124",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMinYMin",className:"play-button",children:(0,o.jsxs)("g",{"fill-rule":"nonzero",children:[(0,o.jsx)("path",{d:"m0-85.274c-2.024-7.622-7.987-13.624-15.561-15.661-13.724-3.702-68.761-3.702-68.761-3.702s-55.037 0-68.762 3.702c-7.573 2.037-13.537 8.039-15.561 15.661-3.677 13.814-3.677 42.637-3.677 42.637s0 28.822 3.677 42.638c2.024 7.621 7.988 13.623 15.561 15.661 13.725 3.701 68.762 3.701 68.762 3.701s55.037 0 68.761-3.701c7.574-2.038 13.537-8.04 15.561-15.661 3.678-13.816 3.678-42.638 3.678-42.638s0-28.823-3.678-42.637",fill:"#f00",transform:"translate(172.322 104.637)"}),(0,o.jsx)("path",{d:"m0 52.338 46-26.168-46-26.17z",fill:"#fff",transform:"translate(70 35.8309)"})]})}),!this.props.isThumb&&this.state.isEmbedded&&(0,o.jsx)("div",{className:"video-container",style:this.playerSize||{},children:(0,o.jsx)("div",{id:this.state.playerId})}),(0,o.jsx)("img",b(b({className:"gal_img"},this.props.shouldLoad||this.props.isThumb?{src:this.getVideoThumbnail(this.props.video.u,this.props.isThumb||!1)}:{}),{},{alt:this.props.video.c.replace("&copy;","Â©"),title:this.props.video.c.replace("&copy;","Â©"),style:this.state.mounted?this.imgStyle:{},ref:function(t){return e.galImg=t},onLoad:this.handleImageLoaded}))]}),this.props.video.c&&!this.props.isThumb&&this.props.opstates.fullscreen&&(0,o.jsx)("div",{className:"image_caption",ref:function(t){return e.captionElement=t},style:1==this.props.config.showImageTitleAsCaption||2==this.props.config.showImageTitleAsCaption&&this.props.opstates.fullscreen?{}:{display:"none"},dangerouslySetInnerHTML:{__html:this.props.video.c}}),(0,o.jsx)("div",{class:"img_spacer"}),this.props.isThumb||0===this.props.index||!this.props.shouldLoad||this.state.isLoaded?"":(0,o.jsx)("div",{class:"loading-spinner loading-spinner--large"})]})}}]),i}(d.Component),T=(0,f.connect)((function(t,e){return b({dispatch:t.dispatch},e)}))(v);e.default=T},SksO:function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},W8MJ:function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},WkPL:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);e>i;i++)n[i]=t[i];return n}},XgG4:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("ANjH"),o=n(i("sINF")),r=i("ZYy/"),a=(0,s.combineReducers)({config:r.config,images:r.images,videos:r.videos,media:r.media,lazyloadedImages:r.lazyloadedImages,lazyloadedThumbs:r.lazyloadedThumbs,opstates:r.opstates}),l=s.compose;var c=(0,s.createStore)(a,{},l((0,s.applyMiddleware)(o.default)));e.default=c},YYwv:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,o=n(i("lSNA")),r=i("lVWJ"),a=n(i("lwsE")),l=n(i("W8MJ")),c=n(i("PJYZ")),u=n(i("7W2i")),p=n(i("a1gu")),h=n(i("Nsbk")),d=i("2mXy"),f=i("/MKj"),m=i("o5cL");function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,h.default)(t);if(e){var s=(0,h.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,p.default)(this,i)}}window.ghpakLazyload("event_tracker").then((function(t){return s=t}));var y=function(t){(0,u.default)(i,t);var e=b(i);function i(t){var n;return(0,a.default)(this,i),(n=e.call(this,t)).state={mounted:!1,isLoaded:!1},n.updateProportions=n.updateProportions.bind((0,c.default)(n)),n.clickHeadPrice=n.clickHeadPrice.bind((0,c.default)(n)),n}return(0,l.default)(i,[{key:"componentDidMount",value:function(){var t=this.props.socketHeight||0;this.imgStyle={minHeight:"1%"};var e=this.captionElement?this.captionElement.clientHeight:0,i=this.titleElement?this.titleElement.clientHeight:0;(this.captionElement&&e&&e>0||this.titleElement&&i&&i>0)&&(t+=e),(this.titleElement&&i&&i>0||this.titleElement&&i&&i>0)&&(t+=i),this.imgStyle.maxHeight=t>0?"calc(90% - "+t+"px)":"90%",this.setState({mounted:!0})}},{key:"componentWillUpdate",value:function(t){var e=this;!this.props.socketHeight&&t.socketHeight&&window.setTimeout((function(){e.galImg.style.visibility="visible",e.captionElement&&(e.captionElement.style.visibility="visible")}),25),this.props.socketHeight&&!t.socketHeight&&window.setTimeout((function(){e.galImg.style.visibility=null,e.captionElement&&(e.captionElement.style.visibility=null)}),25)}},{key:"componentDidUpdate",value:function(){var t=this;this.props.opstates.mayUpdateProportions&&window.setTimeout((function(){t.updateProportions(),t.props.dispatch({type:m.MAY_UPDATE_PROPORTIONS,payload:!1})}),0),this.props.opstates.fullscreen&&"visible"!==this.galImg.style.visibility&&window.setTimeout((function(){t.galImg.style.visibility="visible"}),100)}},{key:"updateProportions",value:function(){this.props.socketHeight;this.captionElement&&(1==this.props.config.showImageTitleAsCaption||2==this.props.config.showImageTitleAsCaption&&this.props.opstates.fullscreen)&&("block"!==this.captionElement.style.display&&(this.captionElement.style.display="block"),this.captionElement.clientHeight),this.titleElement&&this.props.opstates.fullscreen&&this.titleElement.clientHeight}},{key:"clickHeadPrice",value:function(){[2].indexOf(this.props.config.trackEvents)>=0&&s.pushTrackingEvent({action:"Click price",cat:"Image gallery",label:""+this.props.config.fullscreenTitleTexts[this.props.index].title},s.GOOGLE_TAG_MANAGER)}},{key:"setSource",value:function(){return this.galImg&&this.galImg.src==this.props.image.u?this.props.image.u:this.props.isThumb?this.props.image.thumb:!this.props.opstates.fullscreen&&"medium"in this.props.image?this.props.image.medium:this.props.image.u}},{key:"render",value:function(){var t,e=this;return!this.props.opstates.zoomed&&this.props.config.fullscreenTitleTexts&&this.props.config.fullscreenTitleTexts[this.props.index]&&(t=(0,r.jsxs)("p",{class:"img_headtext",ref:function(t){return e.titleElement=t},children:[(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:this.props.config.fullscreenTitleTexts[this.props.index].title}}),this.props.config.fullscreenTitleTexts[this.props.index].price&&(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsxs)("a",{id:"img_headtext_link",onClick:this.clickHeadPrice,href:this.props.config.fullscreenTitleTexts[this.props.index].href.match(/^\/[^\/]/)?this.props.config.fullscreenTitleTexts[this.props.index].href:"/"+this.props.config.fullscreenTitleTexts[this.props.index].href,rel:"noopener",target:"_blank",children:["ab €"," ",this.props.config.fullscreenTitleTexts[this.props.index].price]})]})]})),(0,r.jsxs)("div",{className:"slide_container".concat(this.props.imgClass?" "+this.props.imgClass:""),onClick:(!this.props.config.mobile||this.props.isThumb)&&this.props.onTheClick,ref:function(t){return e.slideCon=t},children:[t,(0,r.jsx)("div",{className:"img_spacer"}),(0,r.jsx)("div",{className:"slide_videodummy",children:(0,r.jsx)("img",{className:"gal_img",src:this.setSource(),alt:this.props.image.c.replace("&copy;","©").replace(/&#39;/g,"´"),title:this.props.image.c.replace("&copy;","©").replace(/&#39;/g,"´"),style:this.state.mounted?this.imgStyle:{},ref:function(t){return e.galImg=t},onLoad:function(){return e.setState({isLoaded:!0})},loading:"lazy"})}),this.props.image.c&&!this.props.isThumb&&this.props.opstates.fullscreen&&(0,r.jsx)("div",{className:"image_caption",ref:function(t){return e.captionElement=t},style:1==this.props.config.showImageTitleAsCaption||2==this.props.config.showImageTitleAsCaption&&this.props.opstates.fullscreen?{}:{display:"none"},dangerouslySetInnerHTML:{__html:this.props.image.c}}),(0,r.jsx)("div",{class:"img_spacer"}),this.props.isThumb||0===this.props.index||!this.props.shouldLoad||this.state.isLoaded?"":(0,r.jsx)("div",{class:"loading-spinner loading-spinner--large"})]})}}]),i}(d.Component),v=(0,f.connect)((function(t,e){return function(t){for(var e=1;arguments.length>e;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({dispatch:t.dispatch},e)}))(y);e.default=v},"ZYy/":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.opstates=e.lazyloadedImages=e.lazyloadedThumbs=e.media=e.videos=e.images=e.config=void 0;var s=n(i("RIqP")),o=n(i("lSNA")),r=i("o5cL");function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;arguments.length>e;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}e.config=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=e.type,n=e.payload;switch(i){case r.INIT:return t;case r.INIT_VARS:return n.init_vars=n.init_vars||{},l(l({},t),{},{mobile:n.init_vars.mobile,continuous:n.init_vars.continuous,maxHeight:n.init_vars.maxHeight||"100%",minWidth:n.init_vars.minWidth,maxWidth:n.init_vars.maxWidth||"100%",mayShrinkToImage:"mayShrinkToImage"in n.init_vars&&n.init_vars.mayShrinkToImage,enableThumbnails:"enableThumbnails"in n.init_vars&&n.init_vars.enableThumbnails,enableThumbnailsFullscreen:"enableThumbnailsFullscreen"in n.init_vars&&n.init_vars.enableThumbnailsFullscreen,thumbnailsNotScrollableImageCount:n.init_vars.thumbnailsNotScrollableImageCount||5,swipeRootCustomClass:"swipeRootCustomClass"in n.init_vars&&n.init_vars.swipeRootCustomClass,showImageTitleAsCaption:!("showImageTitleAsCaption"in n.init_vars)||n.init_vars.showImageTitleAsCaption,showPageNumIndicator:!("showPageNumIndicator"in n.init_vars)||n.init_vars.showPageNumIndicator,showDisclaimer:!("showDisclaimer"in n.init_vars)||n.init_vars.showDisclaimer,fullscreenTransparentBorder:"fullscreenTransparentBorder"in n.init_vars&&n.init_vars.fullscreenTransparentBorder,disclaimer:n.init_vars.disclaimer||"",fullscreenTitleTexts:n.init_vars.fullscreenTitleTexts,trackEvents:n.init_vars.trackEvents||2});default:return t}};e.images=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=e.type,n=e.payload;switch(i){case r.FETCHED_IMAGES:return[].concat((0,s.default)(t),(0,s.default)(n.images));default:return t}};e.videos=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=e.type,n=e.payload;switch(i){case r.FETCHED_VIDEOS:return[].concat((0,s.default)(t),(0,s.default)(n.videos));default:return t}};e.media=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=e.type,n=e.payload;switch(i){case r.FETCHED_MEDIA:return[].concat((0,s.default)(t),(0,s.default)(n.media));default:return t}};e.lazyloadedThumbs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1,2,3,4,5,6,7,8,9],e=arguments.length>1?arguments[1]:void 0,i=e.type,n=e.payload;switch(i){case r.LAZYLOAD_THUMB:return[].concat((0,s.default)(t),(0,s.default)(n)).filter((function(t,e,i){return i.indexOf(t)===e}));default:return t}};e.lazyloadedImages=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1],e=arguments.length>1?arguments[1]:void 0,i=e.type,n=e.payload;switch(i){case r.LAZYLOAD_IMAGES:return[].concat((0,s.default)(t),(0,s.default)(n)).filter((function(t,e,i){return i.indexOf(t)===e}));default:return t}};e.opstates=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=e.type,n=e.payload;switch(i){case r.INIT:return t;case r.UPDATE_IMGNUM:return l(l({},t),{},{imgnum:n});case r.SET_FULLSCREEN:return l(l({},t),{},{fullscreen:n,mayUpdateProportions:!0});case r.MAY_UPDATE_PROPORTIONS:return l(l({},t),{},{mayUpdateProportions:n});case r.ZOOM_ON:return l(l({},t),{},{zoomed:!0});case r.ZOOM_OFF:return l(l({},t),{},{zoomed:!1});case r.SET_THUMBNAILS_CONTROLS:return l(l({},t),n);default:return t}}},ZhPi:function(t,e,i){var n=i("WkPL");t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}},a1gu:function(t,e,i){var n=i("cDf5"),s=i("PJYZ");t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?s(t):e}},cDf5:function(t,e){function i(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=i=function(t){return typeof t}:t.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(e)}t.exports=i},fb1M:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,o=n(i("lSNA")),r=i("lVWJ"),a=n(i("RIqP")),l=n(i("lwsE")),c=n(i("W8MJ")),u=n(i("PJYZ")),p=n(i("7W2i")),h=n(i("a1gu")),d=n(i("Nsbk")),f=i("2mXy"),m=i("/MKj"),g=n(i("ESZF")),b=n(i("YYwv")),y=n(i("RXDC")),v=i("o5cL");function T(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function w(t){for(var e=1;arguments.length>e;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?T(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=(0,d.default)(t);if(e){var s=(0,d.default)(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return(0,h.default)(this,i)}}window.ghpakLazyload("event_tracker").then((function(t){return s=t}));var O=function(t){(0,p.default)(i,t);var e=x(i);function i(t){var n;return(0,l.default)(this,i),(n=e.call(this,t)).next=n.next.bind((0,u.default)(n)),n.prev=n.prev.bind((0,u.default)(n)),n.thumbnailsRight=n.thumbnailsRight.bind((0,u.default)(n)),n.thumbnailsLeft=n.thumbnailsLeft.bind((0,u.default)(n)),n.fullscreenOn=n.fullscreenOn.bind((0,u.default)(n)),n.fullscreenOff=n.fullscreenOff.bind((0,u.default)(n)),n.isFullscreen=n.isFullscreen.bind((0,u.default)(n)),n.syncPos=n.syncPos.bind((0,u.default)(n)),n.getMaxWidth=n.getMaxWidth.bind((0,u.default)(n)),n.getMaxHeight=n.getMaxHeight.bind((0,u.default)(n)),n.getSwipeRootCustomClass=n.getSwipeRootCustomClass.bind((0,u.default)(n)),n.jumpToMedia=n.jumpToMedia.bind((0,u.default)(n)),n.manageKeyInput=n.manageKeyInput.bind((0,u.default)(n)),n.callback=n.callback.bind((0,u.default)(n)),n.callbackStart=n.callbackStart.bind((0,u.default)(n)),n.callbackTap=n.callbackTap.bind((0,u.default)(n)),n.zoomCallback=n.zoomCallback.bind((0,u.default)(n)),n._preventIOSGesture=n._preventIOSGesture.bind((0,u.default)(n)),n.loadYouTubeApiJS=n.loadYouTubeApiJS.bind((0,u.default)(n)),n.loadThumbnails=n.loadThumbnails.bind((0,u.default)(n)),n.isMobile=n.props.config.mobile,n.closeButton=(0,f.createRef)(),n.translate=document.querySelector(".gallery-translation-strings"),n.state={promiseYouTubeReady:!1},n}return(0,c.default)(i,[{key:"componentDidMount",value:function(){var t=this;this.reactSwiper.getImgObjs()[0].onload=function(){t.forceUpdate(),t.reactSwiper.reset()},document.addEventListener("keyup",this.manageKeyInput),window.addEventListener("resize",(function(){t.props.dispatch({type:v.MAY_UPDATE_PROPORTIONS,payload:!0}),t.props.dispatch({type:v.ZOOM_OFF}),window.setTimeout((function(){t.reactSwiper.reset(),t.reactSwiper.resetZoom(),t.setThumbnailsControls()}),200),window.setTimeout((function(){t.isMobile&&t.props.opstates.fullscreen&&window.innerHeight<document.documentElement.clientHeight-30&&window.scrollTo(0,1)}),1e3)})),this.thumbWrap&&this.thumbWrap.addEventListener("scroll",(function(){t.setThumbnailsControls()}),{passive:!0}),this.setThumbnailsControls()}},{key:"componentDidUpdate",value:function(){this.state.socketHeight=0,this.props.opstates.fullscreen&&(this.imgCount&&(this.state.socketHeight+=this.imgCount.clientHeight),this.imageCaption2&&(this.state.socketHeight+=this.imageCaption2.clientHeight))}},{key:"_preventIOSGesture",value:function(t){t.preventDefault()}},{key:"callbackStart",value:function(t,e,i){this.forceUpdate(),this.reactSwiper.reset(),this.state.clicked_thumb||(this.state.touching=i.touches.length>0)}},{key:"callback",value:function(t,e,i,n,s){this.syncPos(),this.loadThumbnails(5),this.props.lazyloadedImages.length<this.props.mediaList.length&&this.props.dispatch({type:v.LAZYLOAD_IMAGES,payload:[this.cur()].concat((0,a.default)(n&&this.cur()+1<this.props.mediaList.length?[this.cur()+1]:[]),(0,a.default)(n||0>this.cur()-1?[]:[this.cur()-1]),(0,a.default)(this.state.clicked_thumb&&n&&this.cur()-1>=0?[this.cur()-1]:[]),(0,a.default)(this.state.clicked_thumb&&!n&&this.cur()+1<this.props.mediaList.length?[this.cur()+1]:[]))}),this.state.clicked_thumb?this.state.clicked_thumb=!1:this.state.touching=(i.touches||[]).length>0}},{key:"callbackTap",value:function(){this.props.opstates.fullscreen||this.fullscreenOn()}},{key:"zoomCallback",value:function(t){"on"!==t&&"off"!==t||("on"===t?this.props.dispatch({type:v.ZOOM_ON}):"off"===t&&this.props.dispatch({type:v.ZOOM_OFF}),[2].indexOf(this.props.config.trackEvents)>=0&&s.pushTrackingEvent({action:"zoom",cat:"Image gallery",label:t},s.GOOGLE_TAG_MANAGER))}},{key:"getSyncedPos",value:function(){if(this.reactSwiper){var t=this.reactSwiper.getPos();return 0===this.props.videos.length&&this.props.config.continuous&&2===this.props.mediaList.length&&(2===t&&(t=0),3===t&&(t=1)),t}}},{key:"syncPos",value:function(){var t=this.getSyncedPos();this.props.dispatch({type:v.UPDATE_IMGNUM,payload:t+1})}},{key:"centerActiveThumbnail",value:function(){if(this.thumbWrap&&this.props.config.enableThumbnails&&this.props.mediaList&&this.props.mediaList.length>this.props.config.thumbnailsNotScrollableImageCount){var t=document.querySelectorAll(".thumbWrap__inner > .slide_container").length,e=this.thumbWrap.scrollWidth/t;this.scrollThumbnails(e*(this.cur()+1)-this.thumbWrap.offsetWidth/2-e/2)}}},{key:"setThumbnailsControls",value:function(){if(this.props.config.enableThumbnails&&this.props.mediaList&&this.props.mediaList.length>this.props.config.thumbnailsNotScrollableImageCount&&this.thumbWrap.scrollWidth!==this.thumbWrap.clientWidth){var t=this.thumbWrap.scrollLeft,e=this.thumbWrap.scrollWidth-this.thumbWrap.clientWidth;t>0?e>t?this.props.dispatch({type:v.SET_THUMBNAILS_CONTROLS,payload:{thumbnailsControlRight:!0,thumbnailsControlLeft:!0}}):this.props.dispatch({type:v.SET_THUMBNAILS_CONTROLS,payload:{thumbnailsControlRight:!1,thumbnailsControlLeft:!0}}):this.props.dispatch({type:v.SET_THUMBNAILS_CONTROLS,payload:{thumbnailsControlRight:!0,thumbnailsControlLeft:!1}})}else this.props.dispatch({type:v.SET_THUMBNAILS_CONTROLS,payload:{thumbnailsControlRight:!1,thumbnailsControlLeft:!1}})}},{key:"scrollThumbnails",value:function(t){t!==this.thumbWrap.scrollLeft&&(this.thumbWrap.scrollLeft=t)}},{key:"next",value:function(t){t.preventDefault(),this.forceUpdate(),this.reactSwiper.reset(),this.props.dispatch({type:v.ZOOM_OFF}),this.reactSwiper.resetZoom(),this.reactSwiper.next(t),this.centerActiveThumbnail()}},{key:"prev",value:function(t){t.preventDefault(),this.forceUpdate(),this.reactSwiper.reset(),this.props.dispatch({type:v.ZOOM_OFF}),this.reactSwiper.resetZoom(),this.reactSwiper.prev(t),this.centerActiveThumbnail()}},{key:"thumbnailsRight",value:function(t){t.preventDefault(),this.scrollThumbnails(this.thumbWrap.scrollLeft+this.thumbWrap.offsetWidth),this.isFullscreen()?this.loadThumbnails(30):this.loadThumbnails(10)}},{key:"thumbnailsLeft",value:function(t){t.preventDefault(),0==this.cur()?this.loadThumbnails(this.props.mediaList.length-1):this.loadThumbnails(30),this.scrollThumbnails(this.thumbWrap.scrollLeft-this.thumbWrap.offsetWidth)}},{key:"cur",value:function(){return this.getSyncedPos()}},{key:"fullscreenOn",value:function(){var t=this;this.props.opstates.fullscreen||(this.loadThumbnails(30),this.isMobile&&window.innerWidth!==document.body.offsetWidth||(this.props.dispatch({type:v.SET_FULLSCREEN,payload:!0}),this.isMobile&&document.getElementsByName("viewport")[0].setAttribute("content","width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"),this.forceUpdate(),document.addEventListener("gesturestart",this._preventIOSGesture),history.pushState&&(history.pushState({},document.head.title,location.href),window.addEventListener("popstate",(function(){return t.fullscreenOff(!0)}))),document.getElementsByTagName("body")[0].className+=" fullscreen-gallery",this.reactSwiper.reset(),this.setThumbnailsControls(),[2].indexOf(this.props.config.trackEvents)>=0&&s.pushTrackingEvent({action:"Click",cat:"Image gallery",label:"Open"},s.GOOGLE_TAG_MANAGER),this.closeButton.current.focus()))}},{key:"fullscreenOff",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.props.opstates.fullscreen){(!1!==t&&!0!==t||isNaN(t))&&(t=!1),document.removeEventListener("gesturestart",this._preventIOSGesture),this.isMobile&&document.getElementsByName("viewport")[0].setAttribute("content","initial-scale=1"),t||window.history.go(-1),history.pushstate&&window.removeEventListener("popstate",this._closeBrowserBack);var e=document.getElementsByTagName("body")[0];e.className=e.className.replace(/fullscreen-gallery/g,""),this.reactSwiper.reset(),this.props.dispatch({type:v.SET_FULLSCREEN,payload:!1}),[2].indexOf(this.props.config.trackEvents)>=0&&s.pushTrackingEvent({action:"Click",cat:"Image gallery",label:t?"Close/Browserback":"Close"},s.GOOGLE_TAG_MANAGER),this.reactSwiper.resetZoom(),this.forceUpdate(),this.centerActiveThumbnail(),this.setThumbnailsControls()}}},{key:"isFullscreen",value:function(){return this.props.opstates.fullscreen}},{key:"getMaxWidth",value:function(t){var e=0,i=(this.props.config.maxWidth.match(/[%A-Za-z]+$/)||[""]).join(""),n=parseInt(this.props.config.maxWidth.replace(/[^\d.\-+]/g,""),10),s=0;if(this.props.config.minWidth&&(s=parseInt(this.props.config.minWidth.replace(/[^\d.\-+]/g,""),10)),this.reactSwiper&&this.props.config.mayShrinkToImage){for(var o=this.reactSwiper.getImgObjs(),r=0;r<o.length;r++)e=o[r].naturalWidth>e?o[r].naturalWidth:e;return e=e>n?n:e,e=Math.max(e,s),t?e:e+i}return n=Math.max(s,n),t?n:n+i}},{key:"getMaxHeight",value:function(t){var e=0,i=(this.props.config.maxHeight.match(/[%A-Za-z]+$/)||[""]).join(""),n=parseInt(this.props.config.maxHeight.replace(/[^\d.\-+]/g,""),10),s=this.getMaxWidth(!0);if(this.reactSwiper&&this.props.config.mayShrinkToImage){for(var o=this.reactSwiper.getImgObjs(),r=0;r<o.length;r++)e=o[r].naturalWidth>o[r].naturalHeight&&o[r].naturalWidth>s?Math.max(s/o[r].naturalWidth*o[r].naturalHeight,e):o[r].naturalHeight>e?o[r].naturalHeight:e;return e=e>n?n:e,t?e:e+i}return t?n:n+i}},{key:"jumpToMedia",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.state.clicked_thumb=!0),this.reactSwiper&&this.reactSwiper.slide(t)}},{key:"getSwipeRootCustomClass",value:function(){return this.props.config.swipeRootCustomClass?this.props.config.swipeRootCustomClass:""}},{key:"manageKeyInput",value:function(t){if(this.props.opstates.fullscreen)switch(t.keyCode){case 37:t.preventDefault(),this.prev(t);break;case 39:t.preventDefault(),this.next(t);break;case 27:t.preventDefault(),this.fullscreenOff();break;default:return null}}},{key:"loadYouTubeApiJS",value:function(){if(!window.onYouTubeIframeAPIReady){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e);var i=new Promise((function(t){window.onYouTubeIframeAPIReady=function(){return t(window.YT)}}));return this.setState({promiseYouTubeReady:i}),i}}},{key:"loadThumbnails",value:function(t){if(!this.isMobile){this.cur();if(this.props.lazyloadedThumbs.length<this.props.mediaList.length){var e=t?this.props.mediaList.length<this.props.lazyloadedThumbs.length+t?this.props.mediaList.length-this.props.lazyloadedThumbs.length+1:t+1:5,i=this.props.lazyloadedThumbs[this.props.lazyloadedThumbs.length-1]>this.cur()?this.props.lazyloadedThumbs[this.props.lazyloadedThumbs.length-1]:this.cur();this.props.dispatch({type:v.LAZYLOAD_THUMB,payload:[this.cur()].concat((0,a.default)(this.cur()+e<this.props.mediaList.length?Array.from(Array(e).keys()).map((function(t){return i+t++})):[]),(0,a.default)(0>this.cur()-e?[]:Array.from(Array(e).keys()).map((function(t){return i-t++}))),(0,a.default)(this.state.clicked_thumb&&this.cur()-e>=0?Array.from(Array(e).keys()).map((function(t){return i-t++})):[]),(0,a.default)(this.state.clicked_thumb&&this.cur()+e<this.props.mediaList.length?Array.from(Array(e).keys()).map((function(t){return i+t++})):[]))})}this.forceUpdate(),this.reactSwiper.reset()}}},{key:"render",value:function(){var t=this;return(0,r.jsxs)("div",{className:"galroot ".concat(this.isMobile?"gr_mobile":""," ").concat(this.props.config.fullscreenTransparentBorder?"fullscreen_transparent_border":""),style:{height:this.getMaxHeight(),width:this.getMaxWidth()},onKeyPress:this.manageKeyInput,children:[(0,r.jsx)("button",{type:"button",id:"gallery__close",onClick:this.fullscreenOff,ref:this.closeButton,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",children:(0,r.jsx)("path",{fill:"none",stroke:"#828282","stroke-miterlimit":"10","stroke-width":"4",d:"M35.47 4.71L4.19 35.99m0-31.28l31.28 31.28"})})}),(0,r.jsx)(g.default,{ref:function(e){return t.reactSwiper=e},className:"swiperoot ".concat(this.getSwipeRootCustomClass()).concat(this.props.config.enableThumbnails?" thumbs":"").concat(this.props.config.enableThumbnailsFullscreen?" fullscreen-thumbs":""),swipeOptions:{continuous:this.props.config.continuous,mobile:this.isMobile,speed:240,callback:this.callback,callbackStart:this.callbackStart,callbackTap:this.callbackTap,zoomCallback:this.zoomCallback,isFullscreen:this.isFullscreen},children:this.props.mediaList.map((function(e,i){if(t.props.lazyloadedThumbs&&t.props.lazyloadedThumbs.indexOf(i)>=0||t.props.lazyloadedImages&&t.props.lazyloadedImages.indexOf(i)>=0)return"image"===e.type?(0,r.jsx)(b.default,{index:i,image:e,config:t.props.config,opstates:t.props.opstates,dispatch:t.props.dispatch,onTheClick:t.fullscreenOn,socketHeight:t.state.socketHeight,shouldLoad:t.props.lazyloadedImages&&t.props.lazyloadedImages.indexOf(i)>=0}):(0,r.jsx)(y.default,{index:i,video:e,config:t.props.config,opstates:t.props.opstates,dispatch:t.props.dispatch,onTheClick:t.fullscreenOn,socketHeight:t.state.socketHeight,shouldLoad:t.props.lazyloadedImages&&t.props.lazyloadedImages.indexOf(i)>=0,loadYouTubeIframeApi:t.loadYouTubeApiJS,promiseYouTubeReady:t.state.promiseYouTubeReady})}))},this.props.mediaList.length),this.props.config.enableThumbnails&&this.props.mediaList&&this.props.mediaList.length>1&&(0,r.jsxs)("div",{className:"thumbWrap".concat(this.props.config.enableThumbnailsFullscreen?" fullscreen-thumbs":"").concat(this.props.mediaList.length>this.props.config.thumbnailsNotScrollableImageCount?" scrollable-thumbs":""),children:[this.props.mediaList.length>this.props.config.thumbnailsNotScrollableImageCount&&(0,r.jsx)("button",{type:"button",id:"thumbnails-control__left",className:"thumbnails__control thumbnails__control--left".concat(this.props.opstates.thumbnailsControlLeft?"":" thumbnails__control--hidden"),onClick:this.thumbnailsLeft,"aria-label":this.translate.querySelector(".scroll-left").textContent,tabIndex:"-1"}),(0,r.jsx)("div",{className:"thumbWrap__inner",ref:function(e){return t.thumbWrap=e},children:this.props.mediaList.map((function(e,i){if(t.props.lazyloadedThumbs&&t.props.lazyloadedThumbs.indexOf(i)>=0)return"image"===e.type?(0,r.jsx)(b.default,{index:i,imgClass:t.cur()===i?"thumb_selected":"",image:e,config:t.props.config,opstates:t.props.opstates,dispatch:t.props.dispatch,isThumb:"true",onTheClick:function(){return t.jumpToMedia(i,!0)}}):(0,r.jsx)(y.default,{index:i,imgClass:t.cur()===i?"thumb_selected":"",video:e,config:t.props.config,opstates:t.props.opstates,dispatch:t.props.dispatch,isThumb:"true",onTheClick:function(){return t.jumpToMedia(i,!0)}})}))}),this.props.mediaList.length>this.props.config.thumbnailsNotScrollableImageCount&&(0,r.jsx)("button",{type:"button",id:"thumbnails-control__right",className:"thumbnails__control thumbnails__control--right".concat(this.props.opstates.thumbnailsControlRight?"":" thumbnails__control--hidden"),onClick:this.thumbnailsRight,"aria-label":this.translate.querySelector(".scroll-right").textContent,tabIndex:"-1"})]}),this.props.mediaList&&this.props.mediaList.length>1&&(0,r.jsx)("button",w(w(w({type:"button",className:"images__control images__control--previous ".concat(this.props.config.enableThumbnails?"thumbs":""),id:"image-control__previous"},!this.isMobile&&{onClick:this.prev}),this.isMobile&&{onTouchStart:this.prev}),{},{"aria-label":this.translate.querySelector(".previous").textContent})),this.props.mediaList&&this.props.mediaList.length>1&&(0,r.jsx)("button",w(w(w({type:"button",className:"images__control images__control--next ".concat(this.props.config.enableThumbnails?"thumbs":""),id:"image-control__next"},!this.isMobile&&{onClick:this.next}),this.isMobile&&{onTouchStart:this.next}),{},{"aria-label":this.translate.querySelector(".next").textContent})),(1==this.props.config.showPageNumIndicator||this.props.opstates.fullscreen&&this.props.config.showPageNumIndicator==v.FULLSCREEN_ONLY)&&this.props.mediaList&&this.props.mediaList.length>1&&(0,r.jsxs)("div",{class:"imgcount",ref:function(e){return t.imgCount=e},children:[this.props.opstates.imgnum||1," / ",this.props.mediaList.length]}),(1==this.props.config.showDisclaimer||2===this.props.config.showDisclaimer&&this.props.opstates.fullscreen)&&(0,r.jsx)("sub",{className:"image_caption2",ref:function(e){return t.imageCaption2=e},dangerouslySetInnerHTML:{__html:this.props.config.disclaimer}})]})}}]),i}(f.Component),_=(0,m.connect)((function(t){return{config:t.config,images:t.images,videos:t.videos,media:t.media,lazyloadedImages:t.lazyloadedImages,lazyloadedThumbs:t.lazyloadedThumbs,opstates:t.opstates}}))(O);e.default=_},lVme:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.thunkInit=void 0;var n=i("KXlo"),s=i("o5cL");e.thunkInit=function(){return function(t){new Promise((function(e,i){t({type:s.INIT_VARS,payload:{init_vars:(0,n.initVars)()}}),e("+")})).then((function(e){new Promise((function(e,i){t({type:s.FETCHED_IMAGES,payload:{images:(0,n.getImages)()}}),e("+")})),new Promise((function(e,i){t({type:s.FETCHED_VIDEOS,payload:{videos:(0,n.getVideos)()}}),e("+")})),new Promise((function(e,i){t({type:s.FETCHED_MEDIA,payload:{media:(0,n.getMedia)()}}),e("+")}))}))}}},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},o5cL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LAZYLOAD_THUMB=e.FETCHED_MEDIA=e.FETCHED_VIDEOS=e.LAZYLOAD_IMAGES=e.SET_THUMBNAILS_CONTROLS=e.MAY_UPDATE_PROPORTIONS=e.ZOOM_OFF=e.ZOOM_ON=e.FETCHED_IMAGES=e.UPDATE_IMGNUM=e.SET_FULLSCREEN=e.INIT_VARS=e.INIT=e.ALWAYS=e.FULLSCREEN_ONLY=void 0;e.FULLSCREEN_ONLY=2;e.ALWAYS=1;e.INIT=3;e.INIT_VARS=4;e.SET_FULLSCREEN=5;e.UPDATE_IMGNUM=6;e.FETCHED_IMAGES=7;e.ZOOM_ON=8;e.ZOOM_OFF=9;e.MAY_UPDATE_PROPORTIONS=10;e.SET_THUMBNAILS_CONTROLS=11;e.LAZYLOAD_IMAGES=12;e.FETCHED_VIDEOS=13;e.FETCHED_MEDIA=14;e.LAZYLOAD_THUMB=15},sINF:function(t,e,i){"use strict";function n(t){return function(e){var i=e.dispatch,n=e.getState;return function(e){return function(s){return"function"==typeof s?s(i,n,t):e(s)}}}}i.r(e);var s=n();s.withExtraArgument=n,e.default=s}}]);